@model eUp.Models.UserTable


@{
    ViewBag.Title = "FillTable";
}

<h2>Table</h2>

@using (Html.BeginForm()) {
    @Html.ValidationSummary(true)

    <fieldset>
        <legend>UserTable</legend>
        @*
         @foreach (var field in Model.Fields)
         {
         <div class="editor-label">
             @Html.HiddenFor(f => field.FieldId)
             @Html.LabelFor(f => field.FieldName)
         </div>
         <div class="editor-field">
             @Html.EditorFor(f => field.FieldName)
             @Html.ValidationMessageFor(f => field.FieldName)
         </div>
         }*@

         @*@for (var i = 0; i < ViewBag.Columns.Count; i++)
         {
             var m = ViewBag.Columns[i].ToString();
             Html.EditorFor(c => m);
         }*@

         @foreach (var col in ViewBag.Columns)
         {
         <div class="editor-label">
            <p>
             @{var name = col.ToString();}
             @name 
             @*var m = col;
             @Html.EditorFor(c => m.ToString());*@
            </p>
         </div>

         <div class="editor-field">
         <input type="text" name="@name"/>
         </div>
         }
        <p>
            <input type="submit" value="Create" />
        </p>
    </fieldset>
}

<div>
    @Html.ActionLink("Back to List", "Index")
</div>

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}
